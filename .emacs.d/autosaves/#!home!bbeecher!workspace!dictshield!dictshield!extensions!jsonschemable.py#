#!/usr/bin/env python

### If you're using Python 2.6, you should use simplejson
try:
    import simplejson as json
except:
    import json

# import json
from dictshield.document import Document

__all__ = ['JsonschemableMixin', 'JsonschemableDocument']

class JsonschemableMixin:
    """A `JsonschemableMixin' adds a class method `.to_jsonschema' to generate
    a JSON schema from a Dictshield document.
    """

    fields = []
    
    @classmethod
    def to_jsonschema(cls):
        """Generate a JSON schema from a Dictshield document.
        """
        cls.schema = {}
        cls.schema['type'] = 'object'
        
        [func() for func in self.__dict__ if func.__name__.startswith('jsonschema')]
        

        

class JsonschemableDocument(Document, JsonschemableMixin):
    pass


